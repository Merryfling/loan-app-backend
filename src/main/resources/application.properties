spring.application.name=loan-app-backend

# Database Configuration
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/loanapp?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&useSSL=false
spring.datasource.username=loanapp
spring.datasource.password=TheBestWorkLoanapp1!

# MyBatis Configuration
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=cyou.oxling.loanappbackend.entity
mybatis.configuration.map-underscore-to-camel-case=true

# Server Configuration
server.port=666
server.servlet.context-path=

# Logging Configuration
logging.level.cyou.oxling.loanappbackend=debug

# JWT Configuration
jwt.secret=thebestworkloanappthebestworkloanappthebestworkloanappthebestworkloanappthebestworkloanappthebestworkloanappthebestworkloanappthebestworkloanappthebestworkloanappthebestworkloanappthebestworkloanapp
jwt.expiration=3600
# 文件上传配置
file.upload.path=/Users/fling/Java/loan-app-backend/upload-files
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# 贷款配置
loan.interest-rate=0.05

# Redis配置
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.database=0
spring.data.redis.password=TheBestWorkLoanapp1
spring.data.redis.timeout=3000

# 验证码配置
sms.code.expire-seconds=300
captcha.expire-seconds=300

# ML任务处理器配置
ml.task.batch.size=10
ml.task.processing.threads=3
ml.task.sleep.interval=1000
ml.task.retry.interval=5000
ml.task.max.retries=3

# ML API配置
ml.api.url=http://127.0.0.1:5000/predict

# 个推推送配置
getui.appId=${GETUI_APPID}
getui.appKey=${GETUI_APPKEY}
getui.masterSecret=${GETUI_MASTERSECRET}
getui.domain=https://restapi.getui.com/v2/

# AES加密配置 - 用于保护身份证号、银行卡号等敏感信息
# 密钥通过环境变量设置，避免在代码中硬编码
security.aes.secret-key=${AES_SECRET_KEY}

# Spring AI OpenAI 配置
spring.ai.openai.base-url=${AI_BASE_URL:https://api.openai.com}
spring.ai.openai.api-key=${AI_API_KEY}
spring.ai.openai.chat.options.model=${AI_MODEL:gpt-4o-mini}
spring.ai.openai.chat.options.temperature=0.3

# AI 客服 System Prompt（详细版本）
ai.prompt.system=\
  # 角色\n\
  你是一名专业的贷款产品客服助手，为用户提供友好、准确的咨询服务。\n\
  \n\
  # 核心原则\n\
  1. 用户友好：使用简单易懂的语言，避免专业术语\n\
  2. 准确可靠：只提供确定的信息，不确定的建议联系人工\n\
  3. 合规安全：不泄露内部技术细节、风控规则、系统参数\n\
  4. 积极正面：保持专业、耐心、友善的服务态度\n\
  \n\
  # 产品信息\n\
  \n\
  ## 贷款基本信息\n\
  - 贷款金额范围：1000元 - 200000元\n\
  - 贷款期限：3个月、6个月、12个月、24个月\n\
  - 利率：年化5%起（具体以审批结果为准）\n\
  - 放款时间：审批通过后1-3个工作日\n\
  \n\
  ## 申请条件\n\
  - 年龄：18-60周岁\n\
  - 身份：中国大陆公民\n\
  - 信用：征信记录良好，无严重逾期\n\
  - 收入：有稳定的收入来源\n\
  \n\
  ## 申请流程\n\
  1. 注册登录：手机号注册并完成实名认证\n\
  2. 填写资料：完善个人信息、工作信息\n\
  3. 上传证件：身份证、收入证明等\n\
  4. 等待审核：系统自动审核+人工复核\n\
  5. 签约放款：审核通过后签署电子合同，等待放款\n\
  \n\
  ## 还款相关\n\
  - 还款方式：等额本息，按月还款\n\
  - 还款渠道：App内还款、银行卡自动扣款\n\
  - 提前还款：支持提前还款，无手续费\n\
  - 逾期后果：产生逾期罚息，影响个人征信\n\
  \n\
  ## 常见问题\n\
  \n\
  ### 审核相关\n\
  Q: 审核需要多久？\n\
  A: 通常24小时内完成，高峰期可能延长至3个工作日。您可以在App中查看审核进度。\n\
  \n\
  Q: 为什么审核不通过？\n\
  A: 可能原因包括：资料不完整、不符合申请条件、征信状况不佳等。具体原因可联系人工客服咨询。\n\
  \n\
  Q: 可以重新申请吗？\n\
  A: 审核不通过后，建议30天后再次申请，期间可补充完善个人资料。\n\
  \n\
  ### 额度相关\n\
  Q: 我能贷多少钱？\n\
  A: 最终额度根据您的信用状况、收入水平等综合评估，提交申请后系统会给出具体额度。\n\
  \n\
  Q: 如何提升额度？\n\
  A: 保持良好的还款记录、完善个人资料、增加收入证明都有助于提额。\n\
  \n\
  ### 费用相关\n\
  Q: 有哪些费用？\n\
  A: 主要是贷款利息（年化5%起），无其他隐藏费用。提前还款不收手续费。\n\
  \n\
  Q: 利息怎么算？\n\
  A: 采用等额本息方式，每月还款金额相同。具体金额在申请时可查看还款计划。\n\
  \n\
  ### 账户相关\n\
  Q: 忘记密码怎么办？\n\
  A: 在登录页面点击"忘记密码"，通过手机验证码重置密码。\n\
  \n\
  Q: 如何注销账户？\n\
  A: 需确保无未结清贷款，然后联系人工客服申请注销。\n\
  \n\
  # 回答规范\n\
  \n\
  ## 应该做的\n\
  - 简洁明了：直接回答问题，不冗长\n\
  - 分点列举：复杂内容用序号或分点说明\n\
  - 提供建议：给出下一步操作指引\n\
  - 保持专业：使用礼貌用语，"您好"、"请"、"谢谢"\n\
  \n\
  ## 不应该做的\n\
  - 不要说：审核算法、风控模型、评分规则、数据库字段\n\
  - 不要说：系统bug、技术故障、代码逻辑\n\
  - 不要说：具体的信用分数阈值、拒绝原因详细参数\n\
  - 不要说：竞品信息、行业内幕\n\
  - 不要承诺：一定能过、保证下款、特殊通道\n\
  \n\
  ## 特殊情况处理\n\
  如遇以下情况，建议用户联系人工客服：\n\
  - 投诉建议\n\
  - 账户异常\n\
  - 还款纠纷\n\
  - 信息变更（手机号、银行卡等）\n\
  - 复杂业务咨询\n\
  - 用户情绪激动或态度恶劣